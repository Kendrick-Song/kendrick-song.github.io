(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{334:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vuepress-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-部署"}},[s._v("#")]),s._v(" VuePress 部署")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#部署到-github-pages"}},[s._v("部署到 Github Pages")]),t("ul",[t("li",[t("a",{attrs:{href:"#创建远程仓库"}},[s._v("创建远程仓库")])]),t("li",[t("a",{attrs:{href:"#创建本地仓库"}},[s._v("创建本地仓库")])]),t("li",[t("a",{attrs:{href:"#github-action-自动部署"}},[s._v("Github Action 自动部署")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"部署到-github-pages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署到-github-pages"}},[s._v("#")]),s._v(" 部署到 Github Pages")]),s._v(" "),t("h3",{attrs:{id:"创建远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建远程仓库"}},[s._v("#")]),s._v(" 创建远程仓库")]),s._v(" "),t("p",[s._v("在 "),t("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub"),t("OutboundLink")],1),s._v(" 中新建一个仓库，仓库名称这里输入 "),t("code",[s._v("username.github.io")]),s._v(" 作为存储库名称。 将 "),t("code",[s._v("username")]),s._v(" 替换为你的 GitHub 用户名。 例如，如果用户名为 "),t("code",[s._v("octocat")]),s._v("，则存储库名称应为 "),t("code",[s._v("octocat.github.io")]),s._v("。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("如果你打算将博客发布到 "),t("code",[s._v("https://<USERNAME>.github.io/")]),s._v("，那么就按照上述步骤进行配置；")]),s._v(" "),t("p",[s._v("如果你打算将博客发布到 "),t("code",[s._v("https://<USERNAME>.github.io/<REPO>/")]),s._v("（也就是说你的仓库在 "),t("code",[s._v("https://github.com/<USERNAME>/<REPO>")]),s._v("），则将仓库名称改为 "),t("code",[s._v("<REPO>")]),s._v("，并在 "),t("code",[s._v("config.js")]),s._v(" 中将 "),t("code",[s._v("base")]),s._v(" 设置为 "),t("code",[s._v('"/<REPO>/"')]),s._v("。")])]),s._v(" "),t("p",[s._v("这个仓库就是我们博客的仓库，其应当有两个分支，在后续 push 时尽量遵从：")]),s._v(" "),t("ul",[t("li",[s._v("main：存储项目所有的文件，除构建文件（比如 "),t("code",[s._v("dist")]),s._v("）；")]),s._v(" "),t("li",[s._v("deploy：博客的部署分支，用于 Github Pages 的展示，存放项目的构建后文件。")])]),s._v(" "),t("h3",{attrs:{id:"创建本地仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建本地仓库"}},[s._v("#")]),s._v(" 创建本地仓库")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("我们在容器内的所有本地操作，都仅限于当前容器。基于相同镜像新建的容器是没有我们后续操作产生的任何文件的。血泪教训："),t("RouterLink",{attrs:{to:"/📚 博客搭建/踩坑记录.html#容器内对挂载文件夹使用-mv-命令导致主机对应文件全部被删除-😭"}},[s._v("容器内对挂载文件夹使用 "),t("code",[s._v("mv")]),s._v(" 命令导致主机对应文件全部被删除 😭")])],1),s._v(" "),t("p",[s._v("如果担心哪一天这个容器被玩坏了，从镜像新建容器还要再来一遍相同的步骤，觉得麻烦，可以在操作完以下步骤后用 "),t("code",[s._v("docker commit")]),s._v(" 命令将这个容器的本地操作提交为一个镜像，这就相当于给容器拍了个快照，以后可以从这个新镜像新建容器。")])]),s._v(" "),t("h4",{attrs:{id:"配置-git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-git"}},[s._v("#")]),s._v(" 配置 Git")]),s._v(" "),t("p",[s._v("用 "),t("code",[s._v("docker exec")]),s._v(" 命令进入容器的 bash，根据 "),t("a",{attrs:{href:"https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%88%9D%E6%AC%A1%E8%BF%90%E8%A1%8C-Git-%E5%89%8D%E7%9A%84%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git - 初次运行 Git 前的配置 (git-scm.com)"),t("OutboundLink")],1),s._v(" 中"),t("strong",[s._v("用户信息")]),s._v("一节设置你的用户名和邮件地址。")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("重要")]),s._v(" "),t("p",[s._v("设置你的用户名和邮件地址这一点很重要，因为每一个 Git 提交都会使用这些信息，它们会写入到你的每一次提交中，不可更改。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"John Doe"')]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" user.email johndoe@example.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("设置完成后可以通过 "),t("code",[s._v("git config --list")]),s._v(" 确认设置正确。")]),s._v(" "),t("h4",{attrs:{id:"通过-ssh-连接到-github"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过-ssh-连接到-github"}},[s._v("#")]),s._v(" 通过 SSH 连接到 GitHub")]),s._v(" "),t("p",[s._v("没有人希望自己的仓库可以被其他人随意修改，当我们 push 到远程仓库时，Github 会通过 SSH（安全外壳协议）检查我们当前是否有权限对仓库进行修改。")]),s._v(" "),t("p",[s._v("所以对于一个新机器，我们需要生成它的 SSH 密钥对，并将公钥添加到 GitHub 账户中以启用这台机器对 Github 帐户的 SSH 访问。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("输入 "),t("code",[s._v("ls -al ~/.ssh")]),s._v(" 以查看是否存在现有的 SSH 密钥对。默认情况下，GitHub 的一个支持的公钥的文件名是以下之一：")]),s._v(" "),t("ul",[t("li",[s._v("id_rsa.pub")]),s._v(" "),t("li",[s._v("id_ecdsa.pub")]),s._v(" "),t("li",[s._v("id_ed25519.pub")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("如果收到错误，指示 "),t("code",[s._v("~/.ssh")]),s._v(" 不存在，则表明默认位置中没有现有的 SSH 密钥对。 您可以在下一步中创建新的 SSH 密钥对。")])])]),s._v(" "),t("li",[t("p",[s._v("若没有密钥对，使用下列命令生成密钥对（替换为您的 GitHub 电子邮件地址），这将以提供的电子邮件地址为标签创建新 SSH 密钥：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ ssh-keygen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ed25519 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your_email@example.com"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行后一路回车即可。")])]),s._v(" "),t("li",[t("p",[s._v("查看 SSH 公钥，并复制下来：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_ed25519.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("在 Github 中单击右上角个人资料照片 → Settings → 边栏中选择「SSH 和 GPG 密钥」→ 「New SSH key」进入到添加 SSH key 的页面。粘贴公钥并设置对应 Title，比如 「个人笔记本电脑」。")])])]),s._v(" "),t("p",[s._v("至此我们 SSH 相关配置就完成了。")]),s._v(" "),t("h4",{attrs:{id:"创建本地仓库-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建本地仓库-2"}},[s._v("#")]),s._v(" 创建本地仓库")]),s._v(" "),t("p",[s._v("在项目根目录下（"),t("code",[s._v("/vuepress")]),s._v("）执行以下命令初始化本地仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("新建 "),t("code",[s._v(".gitignore")]),s._v(" 文件，并写入不需要上传的文件：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -e 参数：启用转义符号")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" .gitignore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules\\ndist\\n.DS_Store'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" .gitignore\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" .gitignore\nnode_modules\ndist\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("使用 "),t("code",[s._v("git add -A")]),s._v(" 将文件添加到暂存区，"),t("code",[s._v("git commit -m 'first commit'")]),s._v(" 提交修改。")]),s._v(" "),t("p",[s._v("设置远程仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin git@github.com:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("USERNAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("USERNAME/REPO"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".github.io.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("推送到远程仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" origin master:main\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[t("code",[s._v("-u")]),s._v("  参数其实就相当于记录了 push 到远端分支的默认值，这样当下次我们还想要继续 push 的这个远端分支的时候推送命令就可以简写成 "),t("code",[s._v("git push")]),s._v(" 即可")])]),s._v(" "),t("h3",{attrs:{id:"github-action-自动部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#github-action-自动部署"}},[s._v("#")]),s._v(" Github Action 自动部署")]),s._v(" "),t("blockquote",[t("p",[s._v("基础部署请参考 "),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),t("OutboundLink")],1),s._v("，这里只介绍使用 Github Actions 的集成部署。")])]),s._v(" "),t("p",[s._v("GitHub Actions 是一种持续集成和持续交付 (CI/CD) 平台，可用于自动执行生成、测试和部署管道。 您可以创建工作流程来构建和测试存储库的每个拉取请求，或将合并的拉取请求部署到生产环境。")]),s._v(" "),t("p",[s._v("可配置 GitHub Actions 工作流，使其在存储库中发生事件（例如打开拉取请求或创建问题）时触发 。 工作流包含一个或多个可按顺序或并行运行的作业。 每个作业都将在其自己的虚拟机运行器中或在容器中运行，并具有一个或多个步骤，用于运行定义的脚本或运行动作。动作是一个可重用的扩展，可简化工作流 。")]),s._v(" "),t("p",[s._v("具体学习可参考：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.github.com/zh/actions/quickstart",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions 快速入门 - GitHub 文档"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions 入门教程 - 阮一峰的网络日志 (ruanyifeng.com)"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("使用自动部署后，我们将文档 push 到远程仓库的主分支时，Github 会自动帮我们对文档进行打包和发布，不再需要手动进入到打包文件夹，再推送到远程仓库。")]),s._v(" "),t("ol",[t("li",[s._v("生成 Token："),t("a",{attrs:{href:"https://docs.github.com/zh/enterprise-server@3.7/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens",target:"_blank",rel:"noopener noreferrer"}},[s._v("管理个人访问令牌 - GitHub Enterprise Server 3.7 Docs"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("配置 Secrets：\n"),t("ol",[t("li",[s._v("进入你存放你博客源码的项目，然后依次点击 Settings → Secrets，")]),s._v(" "),t("li",[s._v("点击右上角的 New repository secret，新建一个 Secret。这里的名字要命名为 ACCESS_TOKEN，然后 Value 就是我们上一步中所生成的 Token。")])])]),s._v(" "),t("li",[s._v("编写 Action：进入项目的的 Actions 选项，然后新建一个 workflow，默认新建的 workflow 名字是 "),t("code",[s._v("main.yml")]),s._v(" ，这个可以自定义，具体内容如下：")])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deploy.yml")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build and Deploy\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 仅在 main 分支被 push 时触发")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" main\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于设定 LastUpdated 的时区")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TZ")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Asia/Shanghai'")]),s._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务 1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build-and-deploy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行环境")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取代码")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@master\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 「最近更新时间」 等 git 日志相关信息，需要拉取全部提交记录")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("fetch-depth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn "),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("&&")]),s._v(" yarn docs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("build\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# work around for "error:0308010C:digital envelope routines::unsupported"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("NODE_OPTIONS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("openssl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("legacy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("provider\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署到 GitHub Pages")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JamesIves/github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deploy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@v4\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("token")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACCESS_TOKEN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也就是我们刚才生成的 secret")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署到 gh-pages 分支，因为 main 分支存放的一般是源码，而 gh-pages 分支则用来存放生成的静态文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("folder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" docs/.vuepress/dist "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuepress 生成的静态文件存放的地方")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("p",[s._v("保存修改并 commit，就可以生效了。")])])}),[],!1,null,null,null);t.default=n.exports}}]);